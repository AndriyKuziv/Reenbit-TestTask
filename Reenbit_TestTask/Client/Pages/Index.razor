@page "/"
@using Microsoft.AspNetCore.Components.Forms
@using System.ComponentModel.DataAnnotations
@using System.Text.Json
@using System.Text.Json.Serialization
@using System.Net.Http.Headers
@inherits IndexComponent

<PageTitle>Main page</PageTitle>

<EditForm Model="Model" OnValidSubmit="Submit">
    <DataAnnotationsValidator />

    <div class="form-object">
        <label for="email">Email:</label>
        <InputText id="email" @bind-Value="Model!.Email" />
        <ValidationMessage For="@(() => Model!.Email)" />
    </div>

    <div class="form-object">
        <label for="file">Choose a File:</label>
        <InputFile OnChange="ChangeFile" id="file" accept=".docx" />
        <ValidationMessage For="@(() => Model!.File)" />
    </div>

    <button>Upload</button>
    <span id="link-status" style="--sp-display: @Attributes.Display;">@Attributes.TextContent</span>
</EditForm>
